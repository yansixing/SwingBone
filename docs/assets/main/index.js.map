{"version":3,"sources":["../../file:/Users/yansixing/BendSkeleton/assets/Scripts/SwingBone2D.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/Footer.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/DemoScene.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/TutorialManger.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/SwingBoneToggle.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/StiffnessForceSlider.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/TSKit.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/VRMSpringBoneLogic.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/ChainHead.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/SwingBone.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/Girl.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/BoneColliderGroup.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/VRMSpringBoneLogic2D.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/DragForceSlider.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/TouchControl.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/CocosUtils.ts","../../file:/Users/yansixing/BendSkeleton/assets/Scripts/Tutorial.ts"],"names":["_dec","_dec2","_dec3","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_temp","_RF","push","undefined","ccclass","_decorator","property","SwingBone2D","Node","SphereCollider","_Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_assertThisInitialized","_defineProperty","Map","_proto","prototype","start","setup","force","RootBones","m_initialLocalRotationMap","_iterator","_createForOfIteratorHelperLoose","_step","done","_step$value","value","key","rotation","clear","m_verlet","_iterator2","_step2","go","set","SetupRecursive","m_center","_iterator3","colliderGroups","_step3","collider","m_colliderList","center","parent","_this2","children","delta","getWorldPosition","clone","subtract","childPosition","add","normalize","multiplyScalar","matrix","getWorldMatrix","invert","localChildPosition","transformMat4","com","VRMSpringBoneLogic2D","firstChild","localPosition","position","scale","_com","Vec3","x","y","z","forEach","child","lateUpdate","dt","_this3","stiffness","m_stiffnessForce","external","m_gravityDir","m_gravityPower","verlet","radius","m_hitRadius","Update","m_dragForce","Component","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","pop","Footer","Button","pageIndex","btnPrev","node","on","EventType","TOUCH_END","onTapPrev","btnNext","onTapNext","active","TutorialManger","totalPages","console","log","sceneName","director","loadScene","onDestroy","DemoScene","onLoad","tween","handNode","sequence","by","easing","sineInOut","repeatForever","init","SwingBoneToggle","Toggle","Label","toggle","isChecked","SwingBone","enabled","label","string","onToggle","StiffnessForceSlider","Slider","Object","defineProperty","window","get","target","propertyKey","descriptor","VRMSpringBoneLogic","transform","m_transform","worldChildPosition","transformPoint","m_currentTail","inverseTransformPoint","m_prevTail","m_localRotation","m_boneAxis","m_length","stiffnessForce","dragForce","colliders","currentTail","prevTail","temp1","rotateQuat","Quat","multiply","ParentRotation","rotateMat","Mat4","fromQuat","temp2","nextTail","temp","Collision","ApplyRotation","Head","setWorldRotation","tempQuat","fromDirection","toDirection","rotationTo","resultQuat","r","normal","posFromCollider","_createClass","getWorldRotation","IDENTITY","ChainHead","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","onTouchEnd","TOUCH_CANCEL","rootNode","tailNode","boneContainer","initNodes","i","boneCount","instantiate","boneNode","getComponent","UITransform","height","boneLength","setPosition","addChild","event","isMouseDown","location","getUILocation","pos","convertToNodeSpaceAR","_class3","setDisplayStats","getComponents","Girl","playMoveAnimation","half","anim","model","to","delay","executeInEditMode","BoneColliderGroup","DragForceSlider","slider","progress","toFixed","onSliderMove","TouchControl","rotateNode","getDelta","euler","eulerAngles","setRotationFromEuler","Tutorial","footer"],"mappings":"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","file":"all.js","sourcesContent":["import { createForOfIteratorHelperLoose as _createForOfIteratorHelperLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"17f3blvZyJG17w8XD99xkkh\", \"SwingBone2D\", undefined);\n\nimport { SphereCollider } from 'cc';\nimport { _decorator, Component, Node, Vec3 } from 'cc';\nimport { VRMSpringBoneLogic2D } from './VRMSpringBoneLogic2D';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var SwingBone2D = (_dec = property([Node]), _dec2 = property([SphereCollider]), _dec3 = property(Node), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(SwingBone2D, _Component);\n\n  function SwingBone2D() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_comment\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"RootBones\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"colliderGroups\", _descriptor3, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_stiffnessForce\", _descriptor4, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_gravityPower\", _descriptor5, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_gravityDir\", _descriptor6, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_dragForce\", _descriptor7, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_center\", _descriptor8, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_hitRadius\", _descriptor9, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"m_initialLocalRotationMap\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"m_verlet\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"m_colliderList\", []);\n\n    return _this;\n  }\n\n  var _proto = SwingBone2D.prototype;\n\n  _proto.start = function start() {\n    this.setup();\n  };\n\n  _proto.setup = function setup(force) {\n    if (force === void 0) {\n      force = false;\n    }\n\n    // console.log(\"setup\");\n    if (this.RootBones != null) {\n      if (force || this.m_initialLocalRotationMap == null) {\n        this.m_initialLocalRotationMap = new Map();\n      } else {\n        for (var _iterator = _createForOfIteratorHelperLoose(this.m_initialLocalRotationMap), _step; !(_step = _iterator()).done;) {\n          var _step$value = _step.value,\n              key = _step$value[0],\n              value = _step$value[1];\n          key.rotation = value;\n        }\n\n        this.m_initialLocalRotationMap.clear();\n      }\n\n      this.m_verlet.length = 0;\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(this.RootBones), _step2; !(_step2 = _iterator2()).done;) {\n        var go = _step2.value;\n\n        if (go != null) {\n          // for (var x in go.transform.Traverse()) {\n          //     this.m_initialLocalRotationMap[x] = x.localRotation;\n          // }\n          this.m_initialLocalRotationMap.set(go, go.rotation);\n          this.SetupRecursive(this.m_center, go);\n        }\n      }\n\n      for (var _iterator3 = _createForOfIteratorHelperLoose(this.colliderGroups), _step3; !(_step3 = _iterator3()).done;) {\n        var collider = _step3.value;\n\n        if (collider !== null) {\n          this.m_colliderList.push(collider);\n        }\n      }\n    }\n  } // static IEnumerable<Transform> GetChildren(Transform parent)\n  // {\n  //     for(int i=0; i<parent.childCount; ++i)\n  //     {\n  //         yield return parent.GetChild(i);\n  //     }\n  // }\n  ;\n\n  _proto.SetupRecursive = function SetupRecursive(center, parent) {\n    var _this2 = this;\n\n    if (parent.children.length == 0) {\n      if (!parent.parent) {\n        return;\n      }\n\n      var delta = parent.getWorldPosition().clone().subtract(parent.parent.getWorldPosition());\n      var childPosition = parent.getWorldPosition().clone().add(delta.normalize().multiplyScalar(100));\n      var matrix = parent.getWorldMatrix().invert();\n      var localChildPosition = childPosition.clone().transformMat4(matrix);\n      var com = new VRMSpringBoneLogic2D(center, parent, localChildPosition);\n      this.m_verlet.push(com);\n    } else {\n      var firstChild = parent.children[0];\n      var localPosition = firstChild.position;\n      var scale = firstChild.scale;\n\n      var _com = new VRMSpringBoneLogic2D(center, parent, new Vec3(localPosition.x * scale.x, localPosition.y * scale.y, localPosition.z * scale.z)); // let com = new VRMSpringBoneLogic2D(center, parent, localPosition);\n\n\n      this.m_verlet.push(_com);\n    }\n\n    parent.children.forEach(function (child) {\n      _this2.SetupRecursive(center, child);\n    });\n  };\n\n  _proto.lateUpdate = function lateUpdate(dt) {\n    var _this3 = this;\n\n    // console.log(\"lateUpdate\");\n    if (this.m_verlet == null || this.m_verlet.length == 0) {\n      if (this.RootBones == null) {\n        return;\n      }\n\n      this.setup();\n    } // m_colliderList.Clear();\n    // if (ColliderGroups != null) {\n    //     foreach(var group in ColliderGroups)\n    //     {\n    //         if (group != null) {\n    //             foreach(var collider in group.Colliders)\n    //             {\n    //                 m_colliderList.Add(new SphereCollider\n    //                     {\n    //                         Position = group.transform.TransformPoint(collider.Offset),\n    //                         Radius = collider.Radius,\n    //                     });\n    //             }\n    //         }\n    //     }\n    // }\n\n\n    var stiffness = this.m_stiffnessForce * dt;\n    var external = this.m_gravityDir.clone().multiplyScalar(this.m_gravityPower * dt);\n    this.m_verlet.forEach(function (verlet) {\n      verlet.radius = _this3.m_hitRadius;\n      verlet.Update(_this3.m_center, stiffness, _this3.m_dragForce, external, _this3.m_colliderList);\n    });\n  };\n\n  return SwingBone2D;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"m_comment\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return \"\";\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"RootBones\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"colliderGroups\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"m_stiffnessForce\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 5.0;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, \"m_gravityPower\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, \"m_gravityDir\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return new Vec3(0, -1, 0);\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, \"m_dragForce\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0.4;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, \"m_center\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, \"m_hitRadius\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0.02;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _descriptor2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"20635PHXmRCd7iKDE1IIquH\", \"Footer\", undefined);\n\nimport { Button } from 'cc';\nimport { director } from 'cc';\nimport { _decorator, Component, Node } from 'cc';\nimport { TutorialManger } from './TutorialManger';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Footer = (_dec = property(Button), _dec2 = property(Button), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Footer, _Component);\n\n  function Footer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"btnPrev\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"btnNext\", _descriptor2, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"pageIndex\", void 0);\n\n    return _this;\n  }\n\n  var _proto = Footer.prototype;\n\n  _proto.setup = function setup(pageIndex) {\n    this.btnPrev.node.on(Node.EventType.TOUCH_END, this.onTapPrev, this);\n    this.btnNext.node.on(Node.EventType.TOUCH_END, this.onTapNext, this);\n    this.pageIndex = pageIndex;\n\n    if (pageIndex == 1) {\n      this.btnPrev.node.active = false;\n    }\n\n    if (pageIndex == TutorialManger.totalPages) {\n      this.btnNext.node.active = false;\n    }\n  };\n\n  _proto.onTapPrev = function onTapPrev() {\n    console.log(\"onTapPrev\");\n    if (!this.pageIndex || this.pageIndex <= 1) return;\n    var sceneName = \"tutorial-\" + (this.pageIndex - 1);\n    director.loadScene(sceneName);\n  };\n\n  _proto.onTapNext = function onTapNext() {\n    console.log(\"onTapNext\");\n    if (this.pageIndex >= TutorialManger.totalPages) return;\n    var sceneName = \"tutorial-\" + (this.pageIndex + 1);\n    director.loadScene(sceneName);\n  };\n\n  _proto.onDestroy = function onDestroy() {// this.btnPrev.node.off(Node.EventType.TOUCH_END, this.onTapPrev, this);\n    // this.btnNext.node.off(Node.EventType.TOUCH_END, this.onTapNext, this);\n  };\n\n  return Footer;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"btnPrev\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"btnNext\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _descriptor2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"26b1c6B8shFgpoXdvSSqZlM\", \"DemoScene\", undefined);\n\nimport { director } from 'cc';\nimport { Button } from 'cc';\nimport { _decorator, Component, Node, tween, easing, Vec3 } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var DemoScene = (_dec = property(Button), _dec2 = property(Node), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(DemoScene, _Component);\n\n  function DemoScene() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"btnNext\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"handNode\", _descriptor2, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = DemoScene.prototype;\n\n  _proto.onLoad = function onLoad() {\n    this.btnNext.node.on(Node.EventType.TOUCH_END, this.onTapNext, this);\n  };\n\n  _proto.start = function start() {\n    // this.handNode\n    tween(this.handNode).sequence(tween().by(2, {\n      position: new Vec3(200, 0, 0)\n    }, {\n      easing: easing.sineInOut\n    }), tween().by(2, {\n      position: new Vec3(-200, 0, 0)\n    }, {\n      easing: easing.sineInOut\n    })).repeatForever().start();\n  };\n\n  _proto.onTapNext = function onTapNext() {\n    var sceneName = \"tutorial-1\";\n    director.loadScene(sceneName);\n  };\n\n  return DemoScene;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"btnNext\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"handNode\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"36c49eSDixAV7+QNnWQz8jn\", \"TutorialManger\", undefined);\n\nimport { _decorator, Component } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var TutorialManger = ccclass(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TutorialManger, _Component);\n\n  function TutorialManger() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TutorialManger.prototype;\n\n  _proto.init = function init() {};\n\n  return TutorialManger;\n}(Component), _defineProperty(_class2, \"totalPages\", 5), _temp)) || _class;\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _descriptor2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"4a8ab2Xwx9IEa2eOiIY9V2e\", \"SwingBoneToggle\", undefined);\n\nimport { Toggle } from 'cc';\nimport { Label } from 'cc';\nimport { _decorator, Component } from 'cc';\nimport { SwingBone } from './SwingBone';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var SwingBoneToggle = (_dec = property(Toggle), _dec2 = property(Label), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(SwingBoneToggle, _Component);\n\n  function SwingBoneToggle() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"toggle\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"label\", _descriptor2, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = SwingBoneToggle.prototype;\n\n  _proto.onLoad = function onLoad() {\n    console.log(this);\n    this.toggle.isChecked = SwingBone.enabled;\n    this.label.string = this.toggle.isChecked ? \"Enabled\" : \"Disabled\";\n  };\n\n  _proto.onToggle = function onToggle() {\n    SwingBone.enabled = this.toggle.isChecked;\n    this.label.string = this.toggle.isChecked ? \"Enabled\" : \"Disabled\";\n  };\n\n  return SwingBoneToggle;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"toggle\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"label\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _descriptor2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"77626PYEzlH0atIemSbipvi\", \"StiffnessForceSlider\", undefined);\n\nimport { Slider } from 'cc';\nimport { Label } from 'cc';\nimport { _decorator, Component } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var StiffnessForceSlider = (_dec = property(Slider), _dec2 = property(Label), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(StiffnessForceSlider, _Component);\n\n  function StiffnessForceSlider() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"slider\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"label\", _descriptor2, _assertThisInitialized(_this));\n\n    return _this;\n  } // onLoad() {\n  //     this.slider.progress = SwingBone.m_stiffnessForce;\n  //     this.label.string = \"stiffnessForce:\" + this.slider.progress.toFixed(2);\n  // }\n  // onSliderMove() {\n  //     SwingBone.m_stiffnessForce = this.slider.progress;\n  //     this.label.string = \"stiffnessForce:\" + this.slider.progress.toFixed(2);\n  // }\n\n\n  return StiffnessForceSlider;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"slider\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"label\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"7ada0ufZyJA2pE6i+TYkD/Q\", \"TSKit\", undefined);\n\nObject.defineProperty(window, 'logFuncName', {\n  configurable: true,\n  get: function get() {\n    return function (target, propertyKey, descriptor) {\n      // console.log(params);\n      descriptor.value = function () {\n        console.log('Excute function:' + propertyKey);\n      };\n\n      return descriptor;\n    };\n  }\n});\nexport default {};\n\n_cclegacy._RF.pop();","import { createForOfIteratorHelperLoose as _createForOfIteratorHelperLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { createClass as _createClass } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"ae66eu7/9xBhY3LrivCNvpH\", \"VRMSpringBoneLogic\", undefined);\n\nimport { Mat4 } from 'cc';\nimport { Quat, Vec3 } from 'cc'; // interface SphereCollider {\n//     Position: Vec3;\n//     Radius: number;\n// }\n\nexport var VRMSpringBoneLogic = /*#__PURE__*/function () {\n  function VRMSpringBoneLogic(center, transform, localChildPosition) {\n    _defineProperty(this, \"m_transform\", void 0);\n\n    _defineProperty(this, \"m_length\", void 0);\n\n    _defineProperty(this, \"m_currentTail\", new Vec3());\n\n    _defineProperty(this, \"m_prevTail\", void 0);\n\n    _defineProperty(this, \"m_localRotation\", void 0);\n\n    _defineProperty(this, \"m_boneAxis\", void 0);\n\n    _defineProperty(this, \"radius\", 0);\n\n    // console.log(\"swingNode\", transform);\n    this.m_transform = transform;\n    var worldChildPosition = this.m_transform.transformPoint(localChildPosition);\n    this.m_currentTail = center != null ? center.inverseTransformPoint(this.m_currentTail, worldChildPosition) : worldChildPosition;\n    this.m_prevTail = this.m_currentTail.clone();\n    this.m_localRotation = transform.rotation.clone();\n    this.m_boneAxis = localChildPosition.clone().normalize();\n    this.m_length = localChildPosition.length();\n  }\n\n  var _proto = VRMSpringBoneLogic.prototype;\n\n  _proto.Update = function Update(center, stiffnessForce, dragForce, external, colliders) {\n    var currentTail = center != null ? center.transformPoint(this.m_currentTail) : this.m_currentTail;\n    var prevTail = center != null ? center.transformPoint(this.m_prevTail) : this.m_prevTail;\n    var temp1 = currentTail.clone().subtract(prevTail).multiplyScalar(1.0 - dragForce);\n    var rotateQuat = new Quat();\n    Quat.multiply(rotateQuat, this.ParentRotation, this.m_localRotation);\n    var rotateMat = new Mat4();\n    Mat4.fromQuat(rotateMat, rotateQuat);\n    var temp2 = this.m_boneAxis.clone().transformMat4(rotateMat).multiplyScalar(stiffnessForce);\n    var nextTail = currentTail.clone().add(temp1).add(temp2).add(external);\n    var temp = nextTail.clone().subtract(this.m_transform.getWorldPosition()).normalize().multiplyScalar(this.m_length);\n    nextTail = this.m_transform.getWorldPosition().clone().add(temp);\n    nextTail = this.Collision(colliders, nextTail);\n    this.m_prevTail = center != null ? center.inverseTransformPoint(this.m_prevTail, currentTail) : currentTail;\n    this.m_currentTail = center != null ? center.inverseTransformPoint(this.m_currentTail, nextTail) : nextTail; // nextTail = new Vec3(0, 1.4, 0.662);\n\n    var rotation = this.ApplyRotation(nextTail);\n    this.Head.setWorldRotation(rotation);\n  };\n\n  _proto.ApplyRotation = function ApplyRotation(nextTail) {\n    var rotation = new Quat();\n    Quat.multiply(rotation, this.ParentRotation, this.m_localRotation);\n    var rotateMat = new Mat4();\n    Mat4.fromQuat(rotateMat, rotation);\n    var tempQuat = new Quat();\n    var fromDirection = this.m_boneAxis.clone().transformMat4(rotateMat);\n    var toDirection = nextTail.clone().subtract(this.m_transform.getWorldPosition());\n    Quat.rotationTo(tempQuat, fromDirection.normalize(), toDirection.normalize());\n    var resultQuat = new Quat();\n    Quat.multiply(resultQuat, tempQuat, rotation);\n    return resultQuat;\n  };\n\n  _proto.Collision = function Collision(colliders, nextTail) {\n    for (var _iterator = _createForOfIteratorHelperLoose(colliders), _step; !(_step = _iterator()).done;) {\n      var collider = _step.value;\n      var r = this.radius + collider.radius;\n\n      if (nextTail.clone().subtract(collider.node.transformPoint(collider.center)).length() <= r) {\n        var normal = nextTail.clone().subtract(collider.node.transformPoint(collider.center)).normalize();\n        var posFromCollider = collider.node.transformPoint(collider.center).clone().add(normal.multiplyScalar(r));\n        var temp = posFromCollider.subtract(this.m_transform.getWorldPosition()).normalize();\n        nextTail = this.m_transform.getWorldPosition().clone().add(temp.multiplyScalar(this.m_length));\n      }\n    }\n\n    return nextTail;\n  };\n\n  _createClass(VRMSpringBoneLogic, [{\n    key: \"Head\",\n    get: function get() {\n      return this.m_transform;\n    } // public get Tail() {\n    //     // 待验证\n    //     // get { return m_transform.localToWorldMatrix.MultiplyPoint(m_boneAxis * m_length); }\n    //     // this.m_transform.local\n    //     let dir = this.m_boneAxis.clone().multiplyScalar(this.m_length);\n    //     let result = this.m_transform.getWorldPosition().clone().add(dir);\n    //     let matrix = this.m_transform.getWorldMatrix();\n    //     let result2 = dir.clone().transformMat4(matrix);\n    //     console.log(result, result2);\n    //     return result2\n    // }\n\n  }, {\n    key: \"ParentRotation\",\n    get: function get() {\n      return this.m_transform.parent != null ? this.m_transform.parent.getWorldRotation() : Quat.IDENTITY;\n    }\n  }]);\n\n  return VRMSpringBoneLogic;\n}();\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _descriptor2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"ba87bU9W1lKnrzHcZeqUVa4\", \"ChainHead\", undefined);\n\nimport { UITransform } from 'cc';\nimport { instantiate } from 'cc';\nimport { _decorator, Component, Node, Vec3 } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var ChainHead = (_dec = property(Node), _dec2 = property(Node), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ChainHead, _Component);\n\n  function ChainHead() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"boneNode\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"boneContainer\", _descriptor2, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"boneCount\", 5);\n\n    _defineProperty(_assertThisInitialized(_this), \"boneLength\", 100);\n\n    _defineProperty(_assertThisInitialized(_this), \"rootNode\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"tailNode\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"isMouseDown\", false);\n\n    return _this;\n  }\n\n  var _proto = ChainHead.prototype;\n\n  _proto.onLoad = function onLoad() {\n    this.node.on(Node.EventType.TOUCH_START, this.onTouchStart, this);\n    this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\n    this.node.on(Node.EventType.TOUCH_END, this.onTouchEnd, this);\n    this.node.on(Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);\n    this.rootNode = this.node.parent;\n    this.tailNode = this.boneContainer; //方便演示用\n\n    if (this.boneContainer.children.length == 0) {\n      this.initNodes();\n    }\n  } // @logFuncName\n  ;\n\n  _proto.initNodes = function initNodes() {\n    for (var i = 0; i < this.boneCount; i++) {\n      var node = instantiate(this.boneNode);\n      node.getComponent(UITransform).height = this.boneLength;\n\n      if (i == 0) {\n        node.setPosition(new Vec3(0, 0, 0));\n      } else {\n        node.setPosition(new Vec3(0, -this.boneLength, 0));\n      }\n\n      node.active = true;\n      this.tailNode.addChild(node);\n      this.tailNode = node;\n    }\n  };\n\n  _proto.start = function start() {};\n\n  _proto.onTouchStart = function onTouchStart(event) {\n    this.isMouseDown = true;\n  };\n\n  _proto.onTouchMove = function onTouchMove(event) {\n    if (!this.isMouseDown) return; // console.log(\"onTouchMove\");\n\n    var location = event.getUILocation();\n    var pos = new Vec3(location.x, location.y, 0);\n    pos = this.rootNode.getComponent(UITransform).convertToNodeSpaceAR(pos);\n    this.node.setPosition(pos);\n  };\n\n  _proto.onTouchEnd = function onTouchEnd(event) {\n    this.isMouseDown = false; // console.log(\"onTouchEnd\");\n  };\n\n  return ChainHead;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"boneNode\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"boneContainer\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { createForOfIteratorHelperLoose as _createForOfIteratorHelperLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _class3, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"cb240Ay2FRAq5Sce0AwCQBP\", \"SwingBone\", undefined);\n\nimport { setDisplayStats, SphereCollider } from 'cc';\nimport { _decorator, Component, Node, Vec3 } from 'cc';\nimport { VRMSpringBoneLogic } from './VRMSpringBoneLogic';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property; // class Utility {\n//     reverse<T>(items: T[]): T[] {\n//         const toreturn = [];\n//         for (let i = items.length; i >= 0; i--) {\n//             toreturn.push(items[i]);\n//         }\n//         return toreturn;\n//     }\n// }\n\nexport var SwingBone = (_dec = property([Node]), _dec2 = property([Node]), _dec3 = property(Node), ccclass(_class = (_class2 = (_temp = _class3 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(SwingBone, _Component);\n\n  function SwingBone() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_comment\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"RootBones\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"colliderGroups\", _descriptor3, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_gravityPower\", _descriptor4, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_gravityDir\", _descriptor5, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_center\", _descriptor6, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"m_hitRadius\", _descriptor7, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"m_initialLocalRotationMap\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"m_verlet\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"m_colliderList\", []);\n\n    return _this;\n  }\n\n  var _proto = SwingBone.prototype;\n\n  _proto.start = function start() {\n    this.setup();\n    setDisplayStats(false);\n  };\n\n  _proto.setup = function setup(force) {\n    if (force === void 0) {\n      force = false;\n    }\n\n    // console.log(\"setup\");\n    if (this.RootBones != null) {\n      if (force || this.m_initialLocalRotationMap == null) {\n        this.m_initialLocalRotationMap = new Map();\n      } else {\n        for (var _iterator = _createForOfIteratorHelperLoose(this.m_initialLocalRotationMap), _step; !(_step = _iterator()).done;) {\n          var _step$value = _step.value,\n              key = _step$value[0],\n              value = _step$value[1];\n          key.rotation = value;\n        }\n\n        this.m_initialLocalRotationMap.clear();\n      }\n\n      this.m_verlet.length = 0;\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(this.RootBones), _step2; !(_step2 = _iterator2()).done;) {\n        var go = _step2.value;\n\n        if (go != null) {\n          // for (var x in go.transform.Traverse()) {\n          //     this.m_initialLocalRotationMap[x] = x.localRotation;\n          // }\n          this.m_initialLocalRotationMap.set(go, go.rotation);\n          this.SetupRecursive(this.m_center, go);\n        }\n      }\n\n      for (var _iterator3 = _createForOfIteratorHelperLoose(this.colliderGroups), _step3; !(_step3 = _iterator3()).done;) {\n        var collider = _step3.value;\n\n        if (collider !== null) {\n          var colliders = collider.getComponents(SphereCollider);\n          this.m_colliderList.push.apply(this, colliders);\n        }\n      }\n    }\n  } // static IEnumerable<Transform> GetChildren(Transform parent)\n  // {\n  //     for(int i=0; i<parent.childCount; ++i)\n  //     {\n  //         yield return parent.GetChild(i);\n  //     }\n  // }\n  ;\n\n  _proto.SetupRecursive = function SetupRecursive(center, parent) {\n    var _this2 = this;\n\n    if (parent.children.length == 0) {\n      if (!parent.parent) {\n        return;\n      }\n\n      var delta = parent.getWorldPosition().clone().subtract(parent.parent.getWorldPosition());\n      var childPosition = parent.getWorldPosition().clone().add(delta.normalize().multiplyScalar(0.07));\n      var matrix = parent.getWorldMatrix().invert();\n      var localChildPosition = childPosition.clone().transformMat4(matrix);\n      var com = new VRMSpringBoneLogic(center, parent, localChildPosition);\n      this.m_verlet.push(com);\n    } else {\n      var firstChild = parent.children[0];\n      var localPosition = firstChild.position;\n      var scale = firstChild.scale;\n\n      var _com = new VRMSpringBoneLogic(center, parent, new Vec3(localPosition.x * scale.x, localPosition.y * scale.y, localPosition.z * scale.z)); // let com = new VRMSpringBoneLogic(center, parent, localPosition);\n\n\n      this.m_verlet.push(_com);\n    }\n\n    parent.children.forEach(function (child) {\n      _this2.SetupRecursive(center, child);\n    });\n  };\n\n  _proto.lateUpdate = function lateUpdate(dt) {\n    var _this3 = this;\n\n    if (!SwingBone.enabled) return; // console.log(\"lateUpdate\");\n\n    if (this.m_verlet == null || this.m_verlet.length == 0) {\n      if (this.RootBones == null) {\n        return;\n      }\n\n      this.setup();\n    } // m_colliderList.Clear();\n    // if (ColliderGroups != null) {\n    //     foreach(var group in ColliderGroups)\n    //     {\n    //         if (group != null) {\n    //             foreach(var collider in group.Colliders)\n    //             {\n    //                 m_colliderList.Add(new SphereCollider\n    //                     {\n    //                         Position = group.transform.TransformPoint(collider.Offset),\n    //                         Radius = collider.Radius,\n    //                     });\n    //             }\n    //         }\n    //     }\n    // }\n\n\n    var stiffness = SwingBone.m_stiffnessForce * dt;\n    var external = this.m_gravityDir.clone().multiplyScalar(this.m_gravityPower * dt);\n    this.m_verlet.forEach(function (verlet) {\n      verlet.radius = _this3.m_hitRadius;\n      verlet.Update(_this3.m_center, stiffness, SwingBone.m_dragForce, external, _this3.m_colliderList);\n    });\n  };\n\n  return SwingBone;\n}(Component), _defineProperty(_class3, \"m_dragForce\", 0.8), _defineProperty(_class3, \"m_stiffnessForce\", 1), _defineProperty(_class3, \"enabled\", true), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"m_comment\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return \"\";\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"RootBones\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"colliderGroups\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"m_gravityPower\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, \"m_gravityDir\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return new Vec3(0, -1, 0);\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, \"m_center\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, \"m_hitRadius\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0.02;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"cc773HYijRBJL+ICWg2ANbo\", \"Girl\", undefined);\n\nimport { Component, Node, tween, Vec3, _decorator } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Girl = (_dec = property(Node), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Girl, _Component);\n\n  function Girl() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"model\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = Girl.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this2 = this;\n\n    Object.defineProperty(window, 'girl', {\n      get: function get() {\n        return _this2;\n      },\n      configurable: true\n    });\n  };\n\n  _proto.start = function start() {\n    this.playMoveAnimation();\n  };\n\n  _proto.playMoveAnimation = function playMoveAnimation() {\n    var half = 0.4;\n    var y = -this.node.position.y;\n    var anim = tween(this.model).sequence(tween(this.node).to(1, {\n      position: new Vec3(half, y, 0)\n    }, {\n      easing: 'sineOut'\n    }), tween(this.node).to(1, {\n      position: new Vec3(-half, y, 0)\n    }, {\n      easing: 'sineOut'\n    }), tween(this.node).delay(2));\n    anim.repeatForever();\n    anim.start();\n  };\n\n  return Girl;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"model\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"cdc9dFSkV1GarFQDlyfaY8y\", \"BoneColliderGroup\", undefined);\n\nimport { Component } from 'cc';\nimport { _decorator } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property,\n    executeInEditMode = _decorator.executeInEditMode;\n/**\n * @en\n * Sphere collider component.\n * @zh\n * 球碰撞器。\n */\n\nexport var BoneColliderGroup = ccclass(_class = executeInEditMode(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(BoneColliderGroup, _Component);\n\n  function BoneColliderGroup() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = BoneColliderGroup.prototype;\n\n  // collider:\n  _proto.start = function start() {// physics.\n  };\n\n  return BoneColliderGroup;\n}(Component)) || _class) || _class;\n\n_cclegacy._RF.pop();","import { createForOfIteratorHelperLoose as _createForOfIteratorHelperLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { createClass as _createClass } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"d6ef7pF/TlJSYqDAe4fPiRw\", \"VRMSpringBoneLogic2D\", undefined);\n\nimport { Mat4 } from 'cc';\nimport { Quat, Vec3 } from 'cc'; // interface SphereCollider {\n//     Position: Vec3;\n//     Radius: number;\n// }\n\nexport var VRMSpringBoneLogic2D = /*#__PURE__*/function () {\n  function VRMSpringBoneLogic2D(center, transform, localChildPosition) {\n    _defineProperty(this, \"m_transform\", void 0);\n\n    _defineProperty(this, \"m_length\", void 0);\n\n    _defineProperty(this, \"m_currentTail\", new Vec3());\n\n    _defineProperty(this, \"m_prevTail\", void 0);\n\n    _defineProperty(this, \"m_localRotation\", void 0);\n\n    _defineProperty(this, \"m_boneAxis\", void 0);\n\n    _defineProperty(this, \"radius\", 0);\n\n    // console.log(\"swingNode\", transform);\n    this.m_transform = transform;\n    var worldChildPosition = this.m_transform.transformPoint(localChildPosition);\n    this.m_currentTail = center != null ? center.inverseTransformPoint(this.m_currentTail, worldChildPosition) : worldChildPosition;\n    this.m_prevTail = this.m_currentTail.clone();\n    this.m_localRotation = transform.rotation.clone();\n    this.m_boneAxis = localChildPosition.clone().normalize();\n    this.m_length = localChildPosition.length();\n  }\n\n  var _proto = VRMSpringBoneLogic2D.prototype;\n\n  _proto.Update = function Update(center, stiffnessForce, dragForce, external, colliders) {\n    var currentTail = center != null ? center.transformPoint(this.m_currentTail) : this.m_currentTail;\n    var prevTail = center != null ? center.transformPoint(this.m_prevTail) : this.m_prevTail;\n    var temp1 = currentTail.clone().subtract(prevTail).multiplyScalar(1.0 - dragForce);\n    var rotateQuat = new Quat();\n    Quat.multiply(rotateQuat, this.ParentRotation, this.m_localRotation);\n    var rotateMat = new Mat4();\n    Mat4.fromQuat(rotateMat, rotateQuat);\n    var temp2 = this.m_boneAxis.clone().transformMat4(rotateMat).multiplyScalar(stiffnessForce);\n    var nextTail = currentTail.clone().add(temp1).add(temp2).add(external);\n    var temp = nextTail.clone().subtract(this.m_transform.getWorldPosition()).normalize().multiplyScalar(this.m_length);\n    nextTail = this.m_transform.getWorldPosition().clone().add(temp); // nextTail = this.Collision(colliders, nextTail);\n\n    this.m_prevTail = center != null ? center.inverseTransformPoint(this.m_prevTail, currentTail) : currentTail;\n    this.m_currentTail = center != null ? center.inverseTransformPoint(this.m_currentTail, nextTail) : nextTail; // nextTail = new Vec3(0, 1.4, 0.662);\n\n    var rotation = this.ApplyRotation(nextTail);\n    this.Head.setWorldRotation(rotation);\n  };\n\n  _proto.ApplyRotation = function ApplyRotation(nextTail) {\n    var rotation = new Quat();\n    Quat.multiply(rotation, this.ParentRotation, this.m_localRotation);\n    var rotateMat = new Mat4();\n    Mat4.fromQuat(rotateMat, rotation);\n    var tempQuat = new Quat();\n    var fromDirection = this.m_boneAxis.clone().transformMat4(rotateMat);\n    var toDirection = nextTail.clone().subtract(this.m_transform.getWorldPosition());\n    Quat.rotationTo(tempQuat, fromDirection.normalize(), toDirection.normalize());\n    var resultQuat = new Quat();\n    Quat.multiply(resultQuat, tempQuat, rotation);\n    return resultQuat;\n  };\n\n  _proto.Collision = function Collision(colliders, nextTail) {\n    for (var _iterator = _createForOfIteratorHelperLoose(colliders), _step; !(_step = _iterator()).done;) {\n      var collider = _step.value;\n      var r = this.radius + collider.radius;\n\n      if (nextTail.clone().subtract(collider.node.transformPoint(collider.center)).length() <= r) {\n        var normal = nextTail.clone().subtract(collider.node.transformPoint(collider.center)).normalize();\n        var posFromCollider = collider.node.transformPoint(collider.center).clone().add(normal.multiplyScalar(r));\n        var temp = posFromCollider.subtract(this.m_transform.getWorldPosition()).normalize();\n        nextTail = this.m_transform.getWorldPosition().clone().add(temp.multiplyScalar(this.m_length));\n      }\n    }\n\n    return nextTail;\n  };\n\n  _createClass(VRMSpringBoneLogic2D, [{\n    key: \"Head\",\n    get: function get() {\n      return this.m_transform;\n    } // public get Tail() {\n    //     // 待验证\n    //     // get { return m_transform.localToWorldMatrix.MultiplyPoint(m_boneAxis * m_length); }\n    //     // this.m_transform.local\n    //     let dir = this.m_boneAxis.clone().multiplyScalar(this.m_length);\n    //     let result = this.m_transform.getWorldPosition().clone().add(dir);\n    //     let matrix = this.m_transform.getWorldMatrix();\n    //     let result2 = dir.clone().transformMat4(matrix);\n    //     console.log(result, result2);\n    //     return result2\n    // }\n\n  }, {\n    key: \"ParentRotation\",\n    get: function get() {\n      return this.m_transform.parent != null ? this.m_transform.parent.getWorldRotation() : Quat.IDENTITY;\n    }\n  }]);\n\n  return VRMSpringBoneLogic2D;\n}();\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _descriptor2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"de8a4GDwLNJoKBOJsvKNvGY\", \"DragForceSlider\", undefined);\n\nimport { Slider } from 'cc';\nimport { Label } from 'cc';\nimport { _decorator, Component } from 'cc';\nimport { SwingBone } from './SwingBone';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var DragForceSlider = (_dec = property(Slider), _dec2 = property(Label), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(DragForceSlider, _Component);\n\n  function DragForceSlider() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"slider\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"label\", _descriptor2, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = DragForceSlider.prototype;\n\n  _proto.onLoad = function onLoad() {\n    this.slider.progress = SwingBone.m_dragForce;\n    this.label.string = \"DragForce:\" + this.slider.progress.toFixed(2);\n  };\n\n  _proto.onSliderMove = function onSliderMove() {\n    SwingBone.m_dragForce = this.slider.progress;\n    this.label.string = \"DragForce:\" + this.slider.progress.toFixed(2);\n  };\n\n  return DragForceSlider;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"slider\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"label\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"e0ee7NrMxlFZohhbQnyEijz\", \"TouchControl\", undefined);\n\nimport { _decorator, Component, Node, Vec3 } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var TouchControl = (_dec = property(Node), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TouchControl, _Component);\n\n  function TouchControl() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"rotateNode\", _descriptor, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"isMouseDown\", false);\n\n    return _this;\n  }\n\n  var _proto = TouchControl.prototype;\n\n  _proto.onLoad = function onLoad() {};\n\n  _proto.start = function start() {\n    this.node.on(Node.EventType.TOUCH_START, this.onTouchStart, this);\n    this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\n    this.node.on(Node.EventType.TOUCH_END, this.onTouchEnd, this);\n    this.node.on(Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this); // Editor.Selection.getSelected()\n    // this.node.active\n    // Editor.Message.request(\"scene\", 'query-node', \"\");\n  };\n\n  _proto.onTouchStart = function onTouchStart(event) {\n    this.isMouseDown = true;\n  };\n\n  _proto.onTouchMove = function onTouchMove(event) {\n    if (!this.isMouseDown) return;\n    if (!this.rotateNode) return;\n    var delta = event.getDelta();\n    var euler = this.rotateNode.eulerAngles;\n    euler.add(new Vec3(0, delta.x, 0));\n    this.rotateNode.setRotationFromEuler(euler);\n  };\n\n  _proto.onTouchEnd = function onTouchEnd(event) {\n    this.isMouseDown = false;\n  };\n\n  return TouchControl;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"rotateNode\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"eff0dQrfddAC4GfMrlu1L/D\", \"CocosUtils\", undefined);\n\nimport { Node } from 'cc';\n/*\n * @Author: yansixing\n * @Date: 2021-03-01 10:15:07\n * @Github: https://github.com/yansixing\n * @LastEditTime: 2021-03-09 17:32:29\n */\n\nNode.prototype.transformPoint = function (position) {\n  var node = this;\n  var matrix = node.getWorldMatrix();\n  return position.clone().transformMat4(matrix); // return this.getWorldPosition().clone().add(position);\n}; // Node.prototype.traverse = function () {\n//     let node: Node = this;\n//     let outArr: Node[] = [];\n//     return outArr;\n// }\n\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _descriptor, _descriptor2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"f86a5wMIZZH5J1SW005WLcz\", \"Tutorial\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { Footer } from './Footer';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Tutorial = (_dec = property(Footer), ccclass(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Tutorial, _Component);\n\n  function Tutorial() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"pageIndex\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"footer\", _descriptor2, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"sceneName\", void 0);\n\n    return _this;\n  }\n\n  var _proto = Tutorial.prototype;\n\n  _proto.onLoad = function onLoad() {\n    console.log(\"Enter page:\", this.pageIndex);\n    this.footer.setup(this.pageIndex);\n  };\n\n  _proto.start = function start() {// this.sceneName = director.getScene().name;\n  };\n\n  return Tutorial;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"pageIndex\", [property], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 1;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"footer\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();"]}